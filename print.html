<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js thoughtassault">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>thoughtassault-blog</title>
    <meta name="robots" content="noindex" />


    <!-- Custom HTML head -->
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="favicon.svg">
    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
    <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->

</head>

<body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "thoughtassault";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('thoughtassault')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="posts/hello.html">Hello</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Learning Rust</li><li class="chapter-item expanded "><a href="posts/rust/001_mpbt.html"><strong aria-hidden="true">1.</strong> Passing messages between threads</a></li><li class="chapter-item expanded "><a href="posts/rust/002_requesting_arbitrary_data.html"><strong aria-hidden="true">2.</strong> Improvement on message passing: Requesting arbitrary data</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Developer</li><li class="chapter-item expanded "><a href="posts/developer/001_good_qs/gq.html"><strong aria-hidden="true">3.</strong> Job application questions I liked</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="posts/developer/001_good_qs/bluecode.html"><strong aria-hidden="true">3.1.</strong> Bluecode</a></li><li class="chapter-item expanded "><a href="posts/developer/001_good_qs/wingback.html"><strong aria-hidden="true">3.2.</strong> Wingback</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Upcarta</li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> What is Upcarta (to me)?</div></li><li class="chapter-item expanded affix "><li class="part-title">Philosophy</li><li class="chapter-item expanded "><a href="posts/philosophy/001_foss_thm.html"><strong aria-hidden="true">5.</strong> Open Source Software and the Triple Helix Model of Science</a></li><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                            aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme"
                                    id="thoughtassault">Thoughtassault</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">thoughtassault-blog</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                            aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="hello"><a class="header" href="#hello">Hello</a></h1>
<p>My name is Dora, and I am a software developer from Turkey. I live in London.</p>
<p><a href="https://twitter.com/alleinany">twitter</a> - <a href="https://github.com/akbulutdora">github</a> - <a href="https://snort.social/p/npub18gpgwcqdam4nsde4e6gsuclv8cqyxhjwzxfarskfr5e9qyq97aqqtnch39">snort</a></p>
<hr />
<h2 id="education"><a class="header" href="#education">Education</a></h2>
<h3 id="undergrad---sabanci-university"><a class="header" href="#undergrad---sabanci-university">Undergrad - <strong>Sabanci University</strong></a></h3>
<p><em>(January 2023)</em></p>
<p>BSc in Computer Science - 4.00 GPA - First ranking student</p>
<p>Minor in Philosophy</p>
<hr />
<h2 id="work-experience"><a class="header" href="#work-experience">Work Experience</a></h2>
<h3 id="nlp-intern--yazi-ai"><a class="header" href="#nlp-intern--yazi-ai"><strong>NLP Intern</strong> @ <strong>YAZI AI</strong></a></h3>
<p><em>(Summer 2021)</em></p>
<p>This project aimed to be a pioneer in Turkish NLP, as it was one of the first works on Turkish Financial Sentiment Analysis. I built scrapers for financial news websites and stock market movements. Then I tried to apply NER to the data I collected. The internship ended due to time constraints before I could complete the project.
I worked with Python.</p>
<p>I was completely inexperienced and mostly confused. I was very dependent on my supervisor and she was quite busy, so things did not really go as I wanted them to go.</p>
<h3 id="visiting-researcher-intern--university-of-kent"><a class="header" href="#visiting-researcher-intern--university-of-kent"><strong>Visiting Researcher Intern</strong> @ <strong>University of Kent</strong></a></h3>
<p><em>(Summer 2022)</em></p>
<p>At Kent, I was responsible with implementing a tool to collect data about DDoS protection adoption across the internet. I used Go, MongoDB and GCC. 
Since the tool was meant to scan the a huge number of domains weekly, it had to be performant. I benchmarked several approaches and libraries.</p>
<p>During the internship, I discovered my interest in programming languages and explored the academic life. I love learning new programming syntax, semantics and paradigms.</p>
<h3 id="mobile-developer--upcarta"><a class="header" href="#mobile-developer--upcarta"><strong>Mobile developer</strong> @ <strong>Upcarta</strong></a></h3>
<p><em>(March 2022 - Present)</em></p>
<p><a href="https://www.upcarta.com/">Upcarta</a> is a platform for discovering, organizing and sharing content. Its killer feature is gathering scattered content recommendations, curations and collections from all around the web, streamlining the process of discovering content. I have a strong belief that what matters to humans will be humans they care about.</p>
<p>For the past year, I have been developing the mobile app of Upcarta. We use Flutter.</p>
<p>I learned Flutter all by myself and taught the rest of the team on the go. I had to make the architectural and stylistic decisions because flutter didn't/doesn't really have the idiomatic ways to guide us. It was quite a challenge.</p>
<p>Upcarta will be on the app stores soon. I can share a test link if you want to try Upcarta. Or you can just sign in from the web and use it.</p>
<hr />
<h2 id="today"><a class="header" href="#today">Today</a></h2>
<p>Working on Upcarta, learning Rust. I am open to Rust developer positions.</p>
<p>This will also be a blog for me to organize and share my learning process/progress, food for thought and thought for food.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="1-passing-messages-between-threads"><a class="header" href="#1-passing-messages-between-threads">1. Passing messages between threads</a></h1>
<p>I am trying to implement simple message-passing channels in Rust. I want to share/log my learning progress. I think it will be fun to return to it in some months/years.</p>
<p><strong>Note:</strong> I am a complete beginner to Rust and haven't dealt with this sort of concurrency before.</p>
<p>The task is simple: I will have two channels running on different threads or running as concurrent processes. 
One of them will be the client, asking for the amount of ice cream the server has. Client's actions can be triggered by command line inputs.</p>
<p>The server will tell the client how much ice cream it has. The ice cream is 1kg to begin with, and melts by 10g each second. Bonus: each question can decrease the amount of ice cream by 20g. This will force the server to implement some kind of concurrent operation handling.</p>
<h2 id="first-try"><a class="header" href="#first-try">First try</a></h2>
<p>I read <a href="https://tokio.rs/tokio/tutorial/channels">tokio docs</a>. I initialize the channel, and pass the transmitter and receiver to the tasks I spawn in the main thread (which felt intuitive). But the program immediately ends. No messages after the initial &quot;Let's go!&quot; are printed.</p>
<pre><code class="language-rust">use tokio::sync::mpsc;

#[tokio::main]
async fn main() {
    println!(&quot;Let's go!&quot;);
    // Create the channel
    let (tx, rx) = mpsc::channel(8);
    // Spawn the server task.
    tokio::spawn(run_server(rx));

    // Spawn the client task.
    tokio::spawn(run_client(tx));
}

async fn run_server(mut rx: mpsc::Receiver&lt;String&gt;) {
    println!(&quot;running server&quot;);
    while let Some(message) = rx.recv().await {
        println!(&quot;GOT = {}&quot;, message);
    }
}

async fn run_client(tx: mpsc::Sender&lt;String&gt;) {
    println!(&quot;sending from first handle&quot;);
    // wait for 2 seconds
    tokio::time::sleep(tokio::time::Duration::from_secs(2)).await;
    println!(&quot;woke up from sleep&quot;);

    tx.send(&quot;sending from first handle&quot;.to_owned())
        .await
        .unwrap();
}</code></pre>
<p>I think the problem with this was that my program was not waiting for any of the tasks I spawned. It just started the threads, and there was nothing else to do, so it returned.</p>
<h2 id="second-try"><a class="header" href="#second-try">Second try</a></h2>
<p>Run the server in the main thread and wait for it to complete. This works, but I think I am blocking the main thread with the server.</p>
<p>Also I got the intuition that once the function owning the transmitter (client) returns, it is dropped, so the channel is closed.</p>
<pre><code class="language-rust">use tokio::sync::mpsc;

#[tokio::main]
async fn main() {
    println!(&quot;Let's go!&quot;);
    let (tx, rx) = mpsc::channel(8);
    // Spawn the client task.
    tokio::spawn(run_client(tx));

    // the server is running, but it blocks
    _run_server(rx).await;
}

// we do not use this function in this version
async fn _run_server(mut rx: mpsc::Receiver&lt;String&gt;) {
    println!(&quot;running server&quot;);
    while let Some(msg) = rx.recv().await {
        println!(&quot;received: {:?}&quot;, msg);
    }
}

async fn run_client(tx: mpsc::Sender&lt;String&gt;) {
    // wait for 2 seconds
    tokio::time::sleep(tokio::time::Duration::from_secs(2)).await;
    let msg = String::from(&quot;Hello ice cream guy&quot;);
    tx.send(msg).await.expect(&quot;can not send user on channel&quot;);
}</code></pre>
<h2 id="third-try"><a class="header" href="#third-try">Third try</a></h2>
<p>I spawn a new task for the server and wait for it to complete. This works, but I don't really understand why. I don't know if I am blocking the main thread as well. I also feel like there is a cleaner way to do this. Added understanding this thoroughly to my task.</p>
<pre><code class="language-rust">use tokio::sync::mpsc;

#[tokio::main]
async fn main() {
    println!(&quot;Let's go!&quot;);
    let (tx, rx) = mpsc::channel(8);
    // Spawn the client task.
    tokio::spawn(run_client(tx));

    // Spawn the server task in a way it doesnt block the main thread
    tokio::spawn(async move {
        run_server(rx).await;
    })
    .await
    .unwrap();
}

// we do not use this function in this version
async fn run_server(mut rx: mpsc::Receiver&lt;String&gt;) {
    println!(&quot;running server&quot;);
    while let Some(msg) = rx.recv().await {
        println!(&quot;received: {:?}&quot;, msg);
    }
}

async fn run_client(tx: mpsc::Sender&lt;String&gt;) {
    // wait for 2 seconds
    tokio::time::sleep(tokio::time::Duration::from_secs(2)).await;

    let msg = String::from(&quot;Hello ice cream guy&quot;);

    tx.send(msg).await.expect(&quot;can not send user on channel&quot;);
}</code></pre>
<p><strong>Minor update:</strong> I confirmed my hunch that when the function using the transmitter returns, the channel is closed.</p>
<p>While trying to learn about this, I read <a href="https://doc.rust-lang.org/book/ch16-02-message-passing.html">something on the Rust book</a> that excited me:</p>
<blockquote>
<p>One increasingly popular approach to ensuring safe concurrency is message passing, where threads or actors communicate by sending each other messages containing data.
Here’s the idea in a slogan from the Go language documentation: <em>“Do not communicate by sharing memory; instead, share memory by communicating.”</em></p>
</blockquote>
<p>I love Go, and seeing a wink to its docs made my day.</p>
<h2 id="final-attempt"><a class="header" href="#final-attempt">Final attempt</a></h2>
<p>I did some improvements and kinda nailed the task. The #rustlang discord community helped me.</p>
<p>I learned from them a couple of things:</p>
<ol>
<li>
<p>I should await the tasks, so that the program will wait for them to complete. In order for them not to block the main thread, I should spawn the tasks, and await the futures returned by the tasks somewhere else. Any code that will run in the main thread should run in between.</p>
</li>
<li>
<p>I could also use <code>join!</code>, but that's overkill because it's used for lazy futures, and tokio starts the tasks immediately. Therefore awaiting them in series is enough and idiomatic.</p>
</li>
</ol>
<p>I didn't understand when to use <code>join!</code> exactly, but I understand what's going on with my code.</p>
<p>Here is what I did with what I've learnt:</p>
<pre><code class="language-rust">use tokio::sync::{mpsc, oneshot};
use tokio::time::{self, Duration, Instant};

#[tokio::main]
async fn main() {
    println!(&quot;Let's go!&quot;);
    let (tx, rx) = mpsc::channel(8);

    let client = tokio::spawn(run_client(tx));
    let server = tokio::spawn(run_server(rx));

    client.await.unwrap();
    server.await.unwrap(); // The main thread will not return until server returns. 
}</code></pre>
<p><strong>Receiving responses:</strong></p>
<p>I wanted the clients to be able to send requests and receive responses to those. I accidentally asked GPT to tell me how receive responses from the server so it recommended me to use oneshot channels. So I created a ClientRequest to be sent.</p>
<pre><code class="language-rust">#[derive(Debug)]
struct ClientRequest {
    message: String,
    tx: oneshot::Sender&lt;String&gt;,
}</code></pre>
<p><strong>The server:</strong>
Ice cream melts. I added this to see how data processing within the server could be a part of the whole message exchanging program. I had seen the <code>interval.tick</code> before, but Copilot completed the piece of code that ticks the timer. I will learn about how that works.</p>
<pre><code class="language-rust">async fn run_server(mut rx: mpsc::Receiver&lt;ClientRequest&gt;) {
    println!(&quot;SERVER; I will give one person some ice cream!&quot;);
    let mut ice_cream_amount = 50;
    let mut interval = time::interval_at(
        Instant::now() + Duration::from_secs(1),
        time::Duration::from_secs(1),
    );

    loop {
        tokio::select! {
            _ = interval.tick() =&gt; {
                if ice_cream_amount &lt; 10 {
                    println!(&quot;SERVER; no more ice cream!&quot;);
                    return;
                }
                ice_cream_amount -= 10;
            }
            Some(ClientRequest { message, tx }) = rx.recv() =&gt; {
                println!(&quot;SERVER; received: {:?}&quot;, message);

                let response = format!(&quot;Here is your ice cream! I have {ice_cream_amount} left!&quot;);
                tx.send(response).unwrap();
            }
            else =&gt; {
                println!(&quot;SERVER; I don't know what's happening here!&quot;);
                break;
            }
        }
    }
}</code></pre>
<p><strong>Client:</strong></p>
<p>Every two seconds, the client will ask the server for ice cream, and report how much ice cream is left. It creates a oneshot channel and passes it to the server for an answer. It is blocked until the server responds.</p>
<pre><code class="language-rust">async fn run_client(tx: mpsc::Sender&lt;ClientRequest&gt;) {
    loop {
        tokio::time::sleep(tokio::time::Duration::from_secs(2)).await;
        if tx.is_closed() {
            println!(&quot;CLIENT; Ice cream guy is gone! I guess I will go home now.&quot;);
            return;
        }
        let (response_tx, response_rx) = oneshot::channel();
        let new_msg = ClientRequest {
            message: String::from(&quot;Hello ice cream guy, give me ice cream!&quot;),
            tx: response_tx,
        };
        tx.send(new_msg)
            .await
            .expect(&quot;can not send user on channel&quot;);

        let answer = response_rx.await.unwrap();
        println!(&quot;CLIENT; I knew you loved me!: {:?}&quot;, answer);
    }
}</code></pre>
<p>I might work on a more complicated implementation by adding the following:</p>
<ul>
<li>There are more than one clients, and each time the clients ask for ice cream, the amount of ice cream decreases.</li>
<li>The client's are not blocked when they are waiting for a response from the server.</li>
</ul>
<p>Another insight I gained due to the help of a Rust developer was that the Go idiom I mentioned was more than a best practice in Rust. The compiler has strict constraints on how data can be modified by different threads.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2-improvement-to-message-passing-requesting-arbitrary-data"><a class="header" href="#2-improvement-to-message-passing-requesting-arbitrary-data">2. Improvement to message passing: Requesting arbitrary data</a></h1>
<p>In the previous exercise, I implemented a simple program where a client and server ran asynchronously and communicated by passing messages. This time, the client will send arbitrary queries to the server to execute.</p>
<hr />
<h2 id="design"><a class="header" href="#design">Design</a></h2>
<h3 id="server"><a class="header" href="#server">Server</a></h3>
<ul>
<li>The server holds a mutable database. To keep things simple, this is a simple data structure. There is information about the ice cream the server has such as the existing flavors, their recipes, existing orders and which flavors they are in, etc. The database fields are as follows:
<ul>
<li><code>flavors_stock: Vec&lt;String&gt;</code> -&gt; represents the flavors in stock. </li>
<li><code>flavor_recipes: HashMap&lt;String, Vec&lt;String&gt;&gt;</code> -&gt; represents the recipes of each flavor (it is guaranteed that the existing flavors can only be flavors from this list).</li>
<li>I can add more later if I like.</li>
</ul>
</li>
<li>The database is initialized upon <code>run_server()</code>. When it receives a request, it calls the closure sent with the request on the database.</li>
<li>The server doesn't deal with error handling. It returns a <code>Result</code> to the client. The content of the result will be of the generic type passed from the client.</li>
</ul>
<h3 id="client"><a class="header" href="#client">Client</a></h3>
<ul>
<li>The client sends queries to the server. The <code>ClientRequest</code> consists of a one-shot channel and query. The query is a <code>FnOnce</code> function that takes the server's data as a reference (<code>&amp;Database</code>), and the return type is arbitrary. I think I can achieve this using a generic type and trait bounds (Even though I understand generics, trait objects and traits, I still need to figure this out).</li>
<li>For example, the client can query the database for how many different flavors it has (integer), which flavors do not have dairy in their recipes (list of strings), and more.</li>
</ul>
<p>A simple diagram of the communication process I made GPT draw for me:</p>
<pre><code>+---------+                           +--------+
|         | --(1) Prepare Query-----&gt; |        |
|  Client |                           | Server |
|         |                           |        |
+---------+                           +--------+
                                       |
                                       V
                             (2) Execute Query on Database
                                       |
                                       V
+---------+                           +--------+
|         | &lt;---(3) Send Result ----- |        |
|  Client |                           | Server |
|         |                           |        |
+---------+                           +--------+

</code></pre>
<hr />
<h2 id="implementation"><a class="header" href="#implementation">Implementation</a></h2>
<h3 id="first-attempt"><a class="header" href="#first-attempt">First attempt</a></h3>
<p>The <code>Query</code> struct and its methods lie at the heart of this task. So let's take a look at my first implementation:</p>
<pre><code class="language-rust">pub struct Query {
    tx: oneshot::Sender&lt;Box&lt;dyn Any + Send&gt;&gt;,
    f: Box&lt;dyn FnMut(&amp;Database) -&gt; Box&lt;dyn Any + Send&gt; + Send&gt;,
}

impl Query {
    // used by the server
    pub fn execute(mut self, database: &amp;Database) {
        let result = (self.f)(database);
        let _ = self.tx.send(result);
    }

    // used by the client
    pub fn new&lt;F&gt;(f: F) -&gt; (Self, oneshot::Receiver&lt;Box&lt;dyn Any + Send&gt;&gt;)
    where
        F: FnMut(&amp;Database) -&gt; Box&lt;dyn Any + Send&gt; + Send + 'static,
    {
        let (tx, rx) = oneshot::channel();
        let f = Box::new(f);
        let query = Self { tx, f };

        (query, rx)
    }
}</code></pre>
<p>My first approach was to have the one-shot channel and closure that is sent as fields of the query. This felt natural and intuitive. The client creates a <code>Query</code> using the <code>new</code> constructor, boxes the closure to store it and returns the query as well as the one-shot channel for the response. The role of the server is to execute the given closure. The execute method is also responsible for sending the result back to the client, so the server is completely blind to the inner workings of the query or the client. But this created an indirect and verbose implementation.</p>
<p>I could implement the server as I expected: But the client side didn't go as expected. It worked, but it was not simple at all.</p>
<pre><code class="language-rust">let f: Box&lt;dyn FnMut(&amp;Database) -&gt; Box&lt;dyn Any + Send&gt; + Send&gt; =
    Box::new(move |database: &amp;crate::server::Database| {
        Box::new(database.flavor_recipes.contains_key(&amp;Flavor::Chocolate))
    });
let (new_msg, response_rx) = Query::new(f);
tx.send(new_msg)
    .await
    .expect(&quot;can not send user on channel&quot;);

match response_rx.await {
    Ok(value) =&gt; {
        // Here, `value` is a `Box&lt;dyn Any + Send&gt;`. You'll have to downcast it
        // to the type you know it should be (in this case, `bool`), and handle
        // the case where it's not the type you expected.
        match value.downcast_ref::&lt;bool&gt;() {
            Some(b) =&gt; {
                println!(&quot;CLIENT; received response: {}&quot;, b);
            }
            None =&gt; {
                println!(&quot;CLIENT; received response of unexpected type&quot;);
            }
        }
    }
}</code></pre>
<p>Notice the chaos and verbosity I had to go through to (1) create the closure to the query and (2) downcast the response. The first problem could be sorted out to one degree by moving the boxing operation into the query constructor, but the second will not be handled like this.</p>
<p>I had a discussion with my senior <a href="https://github.com/TylerBloom">Tyler</a> to overcome this issue. The actual purpose of these tasks is to learn Rust and contribute to Tyler's open-source project, <a href="https://github.com/MonarchDevelopment">Monarch Development</a>. Our discussion was fruitful, let me summarize the main points and what I've learned.</p>
<ol>
<li>Usage of <code>Any</code> indeed brings verbosity and complication. The way to figure that out goes by changing the signature of the <code>Query::new()</code> constructor and giving it generic types.</li>
</ol>
<p>I got his advice wrong (now I see what I did wrong clearer) and went for changing the Query struct instead. I had three approaches (all of which were wrong):</p>
<ol>
<li>Make the <code>Query</code> struct generically typed: This resulted in a hugely verbose <code>run_client</code> and <code>run_server</code> function signature, not helping with downcasting from <code>Any</code>even a bit.</li>
</ol>
<pre><code class="language-rust">pub async fn run_client(tx: mpsc::Sender&lt;Query&lt;Result&lt;Box&lt;dyn Any + Send&gt;, QuError&gt;&gt;&gt;)</code></pre>
<ol start="2">
<li>Having different flavors for the <code>Query</code>, making it an enum would also not be as good as it introduced another type of complexity to the program.</li>
</ol>
<pre><code class="language-rust">struct FlavorExistsQuery;
struct FlavorCountQuery;
struct FlavorWithoutMilkQuery;</code></pre>
<p>This was when Tyler told me that Query was at the heart of the problem. <code>Query</code> should not have a generic type, and they told me to think more from the perspective of the server and move more of the logic into the closure I box. Here, we are done with the first attempt. You can find the source code <a href="https://github.com/akbulutdora/rust-learning-projects/tree/9c46a484135707c3cac8bce9308289b6f9b8eb0e/008.%20rust-icecream-db-query/icecream-db-query">here</a>. Now we come to the solution.</p>
<h3 id="second-attempt"><a class="header" href="#second-attempt">Second attempt</a></h3>
<p>I was very surprised and excited at the solution.</p>
<pre><code class="language-rust">pub struct Query {
    execute_and_send: Box&lt;dyn FnOnce(&amp;Database) + Send&gt;,
}

/// [Query::new] constructor needs to take a closure of type [FnOnce(&amp;Database) -&gt; T + Send + 'static]
/// it should return a receiver as well as the query object
impl Query {
    // used by the client
    pub fn new&lt;T, F&gt;(f: F) -&gt; (Self, oneshot::Receiver&lt;T&gt;)
    where
        F: FnOnce(&amp;Database) -&gt; T + Send + 'static,
        T: Debug + Send + 'static,
    {
        let (tx, rx) = oneshot::channel();
        let execute_and_send = Box::new(move |database: &amp;Database| {
            let result = f(database);
            let _ = tx.send(result);
        });
        let query = Self { execute_and_send };

        (query, rx)
    }

    // used by the server
    pub fn execute(self, database: &amp;Database) {
        (self.execute_and_send)(database);
    }
}</code></pre>
<p>The query constructor takes a closure and wraps it into another closure. The latter executes the former, sends the result through the channel and returns nothing. This way, we can avoid using any generic types or trait objects in the <code>Query</code> struct. This is a very flexible and clear design!</p>
<p>Now both the client and server codes are much simpler.</p>
<p>Client:</p>
<pre><code class="language-rust">let (q, response_rx) =
        Query::new(|database: &amp;Database| database.flavor_recipes.contains_key(&amp;Flavor::Chocolate));
    tx.send(q).await.expect(&quot;CLIENT; can not send on channel&quot;);
    match response_rx.await {
        Ok(value) =&gt; println!(
            &quot;CLIENT; I asked if he has chocolate flavor! He said {}&quot;,
            value
        ),
        Err(e) =&gt; println!(&quot;CLIENT; failed to receive response: {:?}&quot;, e),
    }</code></pre>
<p>Server:</p>
<pre><code class="language-rust">//...
Some(query) = rx.recv() =&gt; query.execute(&amp;mut database),
//...</code></pre>
<p>I think this is a very elegant solution. I don't find it very intuitive yet, it feels like bending my head and looking at the world upside down, but I find the challenge of digesting this exciting.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="job-application-questions-i-liked"><a class="header" href="#job-application-questions-i-liked">Job application questions I liked</a></h1>
<p>Here, I will compile application questions I liked answering.</p>
<p>I will write my answers in quote blocks, followed by my comments on the questions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bluecode"><a class="header" href="#bluecode">Bluecode</a></h1>
<h2 id="favorite-languages-and-tools"><a class="header" href="#favorite-languages-and-tools">Favorite Languages And Tools</a></h2>
<p>Which are your favorite languages and tools for building things? Please explain your experience and why you like them.</p>
<blockquote>
<p>The most important thing is that I should enjoy using a language or tool. Spending time with code all day, what I am doing should be a pleasure (at least most of the time). Simplicity is a big plus for this. Also, I shouldn't feel like I am hitting a wall with what I want to do (at least not very often). And my favorites so far would be Go, Flutter and Flair.</p>
<p>I learned Go for my internship at the University of Kent. The purpose of that project was to collect DDoS related-data about the most popular domains on the web on a daily or weekly basis. I was responsible for developing a tool that collects DNS and status data a given list of domains. Performance-wise, Rust or Elixir could make more sense, but Go made the development much quicker for a student. I got a lot of work done and had a good time. It's one of those languages with a big agenda, and I love that the agenda is simplicity. I really like the error handling and concurrency mechanisms of Go.</p>
<p>Most of my programming experience has been with Flutter and Dart to develop the mobile app of Upcarta. Even though I won't follow a career in mobile development (I want to do a little bit more exciting things), I enjoy coding with Flutter. Dart and Flutter's design is very good. I find it much easier to read compared to HTML, and the UI code rarely requires comments. Flutter is still young and there are gaps in the development ecosystem which make things frustrating for no obvious reason. But still it is a pleasure to code, and there are many useful packages built by the community that ease my pain.</p>
<p>Flair (https://github.com/flairNLP/flair) is an open-source NLP framework. I worked with NLP for my graduation project, and at first wanted to use huggingface and TensorFlow, its API and models. There was lots of boilerplate code and frustration about things not working. The NLP-guy at Upcarta recommended flair, which made things much faster. You can just use and fine tune state-of-the-art models with it. It is built on PyTorch, therefore is integrated well and can handle many different types of tasks such as sentiment detection, NER, etc. I recommend it to any friend who has an NLP project.</p>
</blockquote>
<h2 id="code-quality"><a class="header" href="#code-quality">Code Quality</a></h2>
<p>What for you is the most important for writing quality code?</p>
<blockquote>
<p>Coding is a very communicative process. You rarely code alone, and even if you code alone, a couple of months is enough for a piece of code to be mistaken for a stranger's. So quality code for me would be understandable and (obviously) performative code. </p>
<p>In order to make code understandable, it is important to determine the simplest blocks and combine them in a clear and intuitive way. The code should make sense and come as natural to the reader. There are many practices available for that such as variable naming, DRY and KISS. But in the end, I think it just comes down to understanding this approach. I have written and read a lot of low quality code in the past year, and I have rewritten a lot of it. Sometimes after writing some code, I just need to take my time and come back to it the next day.</p>
</blockquote>
<h2 id="favorite-code"><a class="header" href="#favorite-code">Favorite Code</a></h2>
<p>Which are your favorite open-source projects and packages?</p>
<blockquote>
<p>Bloc library and Nostr. </p>
<p>Bloc is a state management library built by the Flutter community. For a beginner, it was quite difficult to learn and use. But  once you learn, it is very easy to see why and how are the state changes are happening. It gives you clear, extensive control over the state.</p>
<p>Nostr is a protocol for anti-censorship, software-independent, decentralized social network. Basically it is just posting notes over relays, with cryptographic verification. I like it because it is very straightforward and opinionated about censorship. It also allows you to use whichever client you want, giving you the option to not use clients that will show you ads or features you don't like. Also, it is well integrated with the bitcoin environment (most of its users are bitcoin people-though I am not) so offers a unique way of monetization for the platforms and users with the feature of zapping posts and profiles. There is an active community that is building all sorts of things on top of Nostr. I hope the future of the social internet will not be at the hands of a couple of companies, and I believe Nostr could be the way. 
Note: Technically, its uses are not limited to social media, but what I have seen the most is social media apps being built on top of it. I use Damus, a mobile social media app built on top of Nostr.</p>
</blockquote>
<h2 id="role-models"><a class="header" href="#role-models">Role-Models</a></h2>
<p>Do you have any programming role-models? Do you have any favorite book(s) on software? Who, which ones, and why?</p>
<blockquote>
<p>Jonathan Blow has been a role-model since I played the Witness and Braid at the age of 16. I also try to watch his talks on our need on a modern programming language to replace C and C++, and how some attempts got some things right and some things wrong. Currently he is building a new language called Jai. I admire his approach to programming concepts. Even though he has some sort of a bad reputation with the way he disagrees with people, I think he is a brilliant mind worth following.</p>
<p>So far no book on software has intrigued me that much.</p>
</blockquote>
<p>After this question, I picked up <a href="https://www.upcarta.com/resources/1006-the-mythical-man-month-essays-on-software-engineering">The Mythical Man-Month</a>, and it's delightful. Clear pieces on software development. I recommend the first parts where Brooks talk about the joys and woes of software.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wingback"><a class="header" href="#wingback">Wingback</a></h1>
<h2 id="can-you-name-three-software-companies-you-admire-and-why-you-admire-them--or--which-technological-feats-of-the-past-inspire-you"><a class="header" href="#can-you-name-three-software-companies-you-admire-and-why-you-admire-them--or--which-technological-feats-of-the-past-inspire-you">Can you name three software companies you admire and why you admire them? -or- Which technological feats of the past inspire you?</a></h2>
<blockquote>
<p>Thekla Inc, Notion, Discord</p>
<p>Thekla is the video game company that made The Witness and Braid, which had profound impact on me. They are driven by the unique vision of Jonathan Blow, game developer and the inventor of the programming language Jai. Also, I like a lot that their current projects are secret. I'm waiting to be surprised.</p>
<p>Notion's product driven ambition deserves respect. At Upcarta, we try to be inspired by that. I also love how Notion can be useful from individuals keeping simple notes to companies organizing their workflows. We use Notion at Upcarta.</p>
<p>I love how organic Discord came to be, or at least how organic it seemed. It's &quot;just what we needed&quot;. It was needed for gamers. I remember using skype to play games with my friends, and how painful that was. Switching to discord was fast and refreshing. But now it is great for working remotely, hanging out with your friends who live far away.</p>
</blockquote>
<h2 id="why-did-you-get-into-programming"><a class="header" href="#why-did-you-get-into-programming">Why did you get into programming?</a></h2>
<blockquote>
<p>I was studying computer science because I was academically successful and wasn't interested in anything else. I knew a bit of C++ from my curiosity, but I had no special interest for programming until the third year of university. The first year courses (Intro to Programming, Advanced programming, etc) were just a part of school, the homeworks felt like puzzles.</p>
<p>What I would consider got me into programming was two things: the Programming Languages course I took and the following internship at Kent. There, I learnt Go and I discovered how excited I got to discover new ways of programming. Since then I did a little bit of Elixir and Go, and now I am learning Rust. The joy of programming only increases day by day.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="term-paper-on-open-source-software-and-the-triple-helix-model-of-science"><a class="header" href="#term-paper-on-open-source-software-and-the-triple-helix-model-of-science">Term paper on Open-source Software and the Triple Helix Model of Science</a></h1>
<blockquote>
<p>This is a term paper I wrote for the Science and Society course at Sabanci University in the spring of 2022.</p>
</blockquote>
<p><strong>Term Paper Question:</strong> What is free and open-source software? Where does it stand in the Triple Helix Model of the social organization of science? Does it have remedies for the disadvantages of the Triple Helix Model? Does it have its weaknesses with respect to the Triple Helix Model?</p>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>The social organization of science underwent considerable change during the 1980s, from the Liberal Model which gave universities the freedom to choose how to allocate the resources they are granted by the government, to the Triple Helix Model in which the scientists also collaborated heavily with corporations to conduct research. This change had many significant consequences on the relationship between the science community, private sector, government, also public. As it will be shown in the following, section, the Triple Helix Model has some fundamental problems relating to the well-functioning of the community of science as the producer of reliable knowledge. There is considerable work on how to achieve well-ordered science through theoretical and practical frameworks that aim to organize the relationship between the aforementioned actors. But one mode of production in the field of computer science, namely Free and Open-Source Software can be examined to shed light on the research on well-organized science. In this approach, certain mechanisms that stem from the community of computer science (which consists of computer scientists and end-users) regulate the relationship between corporations, the government, and the community of computer science. The second section briefly explains the Triple Helix Model, its history, as well as its problematic aspects. The third section explains Free and Open-Source Software, its history, and its mechanisms. In the fourth section, the interaction between Free and Open-Source and the Triple Helix Model is examined, and the solutions that Open-Source brings are discussed. In the last section, the shortcomings of Open-Source are brought up, and a conclusion is provided.</p>
<h2 id="what-is-the-triple-helix-model-of-science-thm"><a class="header" href="#what-is-the-triple-helix-model-of-science-thm">What is the Triple Helix Model of Science (THM)?</a></h2>
<h3 id="21-the-liberal-model"><a class="header" href="#21-the-liberal-model">2.1 The Liberal Model</a></h3>
<p>In order to understand the Triple Helix Model, we first need to briefly explain the Liberal Model that precedes it. In the Liberal Model, the main source of grants and patents are the state. Both the science community (mostly research centers and universities) and corporations seek grants for the research and the resulting patents belong to the state. Even though the Liberal Model has its weaknesses, it allows the universities to allocate the resources given by the government freely, meaning that even if scientists wish to do research on very niche fields, they can follow their own desires. This also allows the conduction of basic science, which does not necessarily have immediate benefits to the society or the conduction of science itself but has proven that it has invaluable uses in the long term, and nuclear energy is a major example. Also, since the scientists did not have any extra benefits from their research except for the prestige and recognition, they could stay disinterested and conduct their research honestly, at least to a certain degree.</p>
<h3 id="22-the-triple-helix-model"><a class="header" href="#22-the-triple-helix-model">2.2 The Triple Helix Model</a></h3>
<p>After the 1980s, the social structure of science changed dramatically, resulting in the Triple Helix Model. In this model, funding of research is predominantly done by corporations as Research and Development (R&amp;D) projects. Governments also fund R&amp;D, but an overwhelming proportion of R&amp;D funding comes from the private sector (Irzık, 2022). Intellectual property rights are much more aggressive as companies aim to get the patents or shared ownership of patents of the research they fund and prevent the disclosure of certain processes such as data collection, how data was handled, the patent details, and the methods of reproduction. This means that scientific knowledge is commodified, belonging to companies that fund its production. Also, industry and universities have novel ways of working together. One well-known example of this is the technology parks at university campuses, in which researchers use both university and private sector resources. Since it was less costly, companies outsource universities instead of having their own independent laboratories. On the other hand, scientists have a channel of possible gains: money. Therefore, they try to get contracts and collaborate with companies to continue their research, and sometimes abide by the rules of the private sector. As a result, universities are becoming entrepreneurial and profit-driven, and the control of what research would be funded shifts to the trends of the market and what is profitable. These characterize the Triple Helix Model, in which the state, the industry, and the scientific community collaborate in various combinations. </p>
<p>The triple helix model creates vulnerabilities in the community of science by undermining the values and norms of science to produce reliable knowledge, also known as the Mertonian norms. These norms are universalism, communalism, disinterestedness, and organized skepticism (Merton &amp; Storer, 1998). They are valuable for the well-functioning of science within the scientific community. Through non-disclosure agreements, THM creates gaps between the research done by a scientist and the community, not allowing free interaction, sharing, and criticism of ideas/research, undermining the norm of communalism. Also, THM provides scientists an additional motivation for financial gain which undermines the disinterestedness principle of the scientific community. The profit-driven market damages the production of reliable knowledge, which is the ultimate goal of science. Another problem created by THM is that bias is introduced to research (Sismondo, 2008) which inhibits organized skepticism and disinterestedness.</p>
<h2 id="what-is-free-and-open-source-software-foss"><a class="header" href="#what-is-free-and-open-source-software-foss">What is Free and Open-Source Software (FOSS)?</a></h2>
<p>To explain Free and Open-Source Software (FOSS), first, it is important to note that what is at hand is the open-source mode of production, not the open-source social movement, even though the two are closely related. In the sense of the mode of production, FOSS is about the organization of the community of computer scientists, the private sector, and members of the public who use the products of the private sector. The idea of open-source software is software with the source code accessible by everyone so that it can be inspected, modified, and improved by anyone. Anyone can create a copy of the code, modify it, and put it next to the code they took, so the community can decide which is better. And the modified code can be sold as well, under certain mechanisms of the FOSS. At the first glance, the idea might seem to undermine competition and kill creativity as well as the motivation for working on something new, but that is not the case. As it will be shown, open-source has fostered a competitive environment for computer scientists, corporations, and end-product users, manifesting and embodying parallel characteristics with the values of science.</p>
<p>In this section, open-source software will be examined with its history, successes, and mechanisms, following the work of Boldrin and Levine (2010).</p>
<p>Many of the great inventions that are still in use occurred (or have influenced cutting-edge technology that we use today) when software was not even patentable, such as the compilers, assemblers, graphical user interfaces (GUIs), linked lists, object-oriented programs, databases, search algorithms, font displays, word processing, and computer languages. These happened before 1981, when the Supreme Court decision in Diamond v. Diehr, changed the tradition of unpatentable software. And even after when it could and would be copyrighted, the copyright would not be respected as it is in the other fields of science. One reason for this was the customers: users would use programs in different systems, or share with one another, violating license agreements. It is true that copyright reduced copying software, but eventually, did not completely prevent it.</p>
<p>Free and open-source software has shown that innovation is not a result of copyrights and intellectual monopoly. The relationship is the very opposite. Only after a dynamic period of creativity, success, and innovation, do copyrights come into play. Once, pioneers of technology and research, who now have run out of exciting ideas, need government protection against their new competitors with creative ideas to drive the engine of success. Fresh ideas are blocked by the “old ways”, not for the promotion of creativity and innovation but for the protection of profit. The software industry, by relinquishing copyrights and patentable software voluntarily, created an innovative and competitive environment. Instead of copyright, they release the software under a “copyleft” license, which forces the sellers of copylefted software also allow the software to be copied by the competitors. This voluntary agreement protects free competition from intellectual monopoly. The motivation is not only about the values of FOSS, but there are also many cases in which only being able to enter the market is very profitable and a monopoly in the market is not worth seeking. Well-known and worth mentioning examples of open-source software would be Linux, which is one of the three major operating systems, that is also used by Mac OS and Google, and many major database management systems (DBMS) MySQL, PostgreSQL, MariaDB, the scripting language PHP, and many popular programming languages, with the examples of Python and Ruby. As it can be seen, open-source software has been a huge success.</p>
<p>The aforementioned free software license is known as the GNU General Public License, allowing software source code to be made public and sold with the condition of the modified code to be under the same license. Free, accessible software allows the contribution of many parties, and also makes their contribution freely available, promising the users of the software access to the source code as well. Programmers from around the world collaborate in a loosely organized way, forming teams or individually working, contributing themselves and benefiting from each other’s contributions. This is an incentive for both the contributing and benefiting sides, as any contribution can lead to a team of programmers competing and collaborating with others, in the end, helping them develop their software even further.</p>
<p>And finally, how open-source software does not undermine profitability can be explained by a concrete example. Linux, as mentioned before is an open-source operating system. Its source code can be accessed and modified by anyone. Red Hat customized the Linux system it accessed for free by developing many useful features, and later on putting its package on the market for $59.95. And as explained before, the Red Hat package is also open-source, thus accessible by others. Two other companies, HCI Design, and Linux Emporium attempted to sell the Red Hat package at much cheaper prices of around $16. But even though their prices were much more affordable, they could not sell as much and had to redraw from the Linux market, and Red Hat kept its place. The reason is the prestige of Red Hat as a company and the trust people put in them, as well as the technical support that can be provided the best by Red Hat since they wrote the code. Red Hat is still one of the industry leaders with many offices worldwide.</p>
<h2 id="how-does-foss-interact-with-thm"><a class="header" href="#how-does-foss-interact-with-thm">How does FOSS interact with THM?</a></h2>
<p>The triple helix model of the social organization of science has certain weaknesses and problems as briefly explained in Section 2. FOSS addresses some of these problems in a way that can be applied to the other fields of sciences as well. First, it is very compatible with the norms and values of science in a bold way, and second, it interacts with the private industry and actually manages to put pressure on the industry in a successful way. The following subsections are about how FOSS manages these.</p>
<h3 id="41-coexistence-of-the-norms-of-science-and-private-industry"><a class="header" href="#41-coexistence-of-the-norms-of-science-and-private-industry">4.1 Coexistence of the norms of science and private industry</a></h3>
<p>Free and open-source partly incorporates Mertonian norms in its values. Even though there is no active mechanism against discrimination in FOSS (this is not what FOSS is concerned with), any programmer can contribute to ongoing research and implementations, and share their ideas within the community. What matters is the contribution. This is in line with the universalism norm. </p>
<p>Communalism is very important for FOSS. It is one of its core values, allowing the whole community of researchers and programmers to freely share their ideas and innovations, as well as benefit from others’ work. Progress and intra-community flow of ideas and resources are not hindered by the motivation of profit. FOSS is so valuable for creativity and competition that even the largest companies in the industry have open-source departments, they host open-source contests, projects, or events that programmers from all around the world can join. Profit is not an enemy of progress.</p>
<p>Researchers or programmers might have personal gains from their work, but this does not hurt the disinterestedness norm, because the code is easily accessible and open to scrutiny by others. If their work has certain shortcomings due to their personal interests, members of the community will use the source code to do it better. This is one of the most important advantages of open source.</p>
<p>Since the code is accessible and modifiable by all; correction, optimization, and improvement are swift. Members of the FOSS community collaborate with scrutiny and aim to achieve the best of their potential through competition. Private industry often takes advantage of this and rewards the individuals who find bugs or inefficiency in their code. Therefore, FOSS also incorporates the norm of organized skepticism.</p>
<h3 id="42-community-vs-corporation--open-source-vs-intellectual-monopoly"><a class="header" href="#42-community-vs-corporation--open-source-vs-intellectual-monopoly">4.2 Community vs. corporation – Open Source vs. Intellectual Monopoly</a></h3>
<p>The market competition and the commodification of knowledge create certain problems for science. Since the industry funds most of the research and holds the patents, it has a serious amount of control over the results of research. Non-disclosure agreements or patents prevent the rest of the industry or researchers to benefit from successful research or question it. The mechanisms of FOSS can be a valuable asset against the power the market holds over the scientific community. The code being open-source sure is very effective, but also pressures the industry to stay close to open-source. A remarkable example of this is MariaDB and MySQL. MySQL is a database management system, created by Michael Widenius and his cofounders and released in 1995 under free software license. It is important to note that the founders chose to release it open source because “they have been using free software for 10+ years and wanted to give something back” and also it “did not hurt their income”. MySQL was first bought by Sun in 2008, and in 2009 Oracle started to acquire Sun. This meant that the original founders did not have control over the copyright management of MySQL from then on. Hence Widenius decided to work on the current version of MySQL independently, gathering a team of software developers (that also include the founders of MySQL) who would want to contribute to an open-source version of MySQL, which was named MariaDB (Widenius, 2017). Because MariaDB will “always be open source”, and open source has many advantages for the users, it creates strong competition for Oracle. Since then, Oracle has not changed its copyright for MySQL, and MySQL stays open source as well. Thanks to the endeavors of Widenius and the community, MySQL and MariaDB are two competitive open-source software that is still in use today. This historical example demonstrates how open source can be of use against the industry and the intellectual property rights which hinder better research, better end products, and creativity.</p>
<h3 id="43-what-are-some-weaknesses-or-shortcomings-of-foss-with-respect-to-thm"><a class="header" href="#43-what-are-some-weaknesses-or-shortcomings-of-foss-with-respect-to-thm">4.3 What are some weaknesses or shortcomings of FOSS with respect to THM?</a></h3>
<p>One of the problems created by THM is that scientists cannot commit to basic/pure research as they wish, because finding funds is much more difficult compared to industry-focused applied research. The material incentives or support are insufficient because there is no immediate gain from pure science. Free and open-source software is not a remedy to this problem for now, but the relationship between science and the industry, and how it could be organized by using the values of free and open-source software is open to further examination. </p>
<p>Also, even though FOSS has shown a path that can be followed and emphasized more, a lot of the code that is written today is still not open source, and corporations keep their profit-driven approach in the same way with their R&amp;D projects, and the tension between the helixes of the model remains.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Free and open-source software has managed to deal with serious threats from the industry through fostering creativity and innovation as well as maintaining competition and collaboration at the same time. There is a lot to learn from the values and practices of FOSS for science to function well in THM. Science can resist the private industry the same way open-source does by using similar tools, creating an Open Science/Research that can put pressure over the industry using the “copyleft” approach, having its own competitive mechanisms and pulling the industry closer to itself. The discussion of free and open-source software and science is open to further questions and contributions.</p>
<h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li>Boldrin, M., &amp; Levine, D. K. (2010). Chapter 2: Creation under Competition. In Against intellectual monopoly (pp. 15–22). essay, Cambridge University Press. </li>
<li>Irzık, G. 2022, Changing Social Organization of Science and its Impact on Research and Universities, PHIL 450 – Science and Society lecture slides.</li>
<li>Merton, R. K., &amp; Storer, N. W. (1998). The Normative Structure of Science . In The Sociology of Science: Theoretical and Empirical Investigations (pp. 267–278). essay, University of Chicago Press. </li>
<li>Sismondo, S. (2008). Pharmaceutical company funding and its consequences: A qualitative systematic review. Contemporary Clinical Trials, 29(2), 109–113. https://doi.org/10.1016/j.cct.2007.08.001 </li>
<li>Widenius, M. (2017, February 17). MySQL-MariaDB History talk. [MariaDB website]. https://mariadb.org/wp-content/uploads/2019/11/MySQL-MariaDB-story.pdf</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
            window.addEventListener('load', function () {
                window.setTimeout(window.print, 100);
            });
        </script>

    </div>
</body>

</html>